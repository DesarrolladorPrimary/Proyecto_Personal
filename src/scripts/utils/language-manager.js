(function () {
  const STORAGE_KEY = "selectedLanguage";

  const translations = {
    es: {
      "home.start": "Iniciar",
      "home.register": "Registrar",
      "login.title": "Inicio",
      "login.email_placeholder": "Correo",
      "login.password_placeholder": "ContraseÃ±a",
      "login.forgot": "Â¿OlvidÃ³ la contraseÃ±a?",
      "login.here": "aquÃ­",
      "login.submit": "Iniciar",
      "login.no_account": "Â¿No tiene cuenta?",
      "login.register": "RegÃ­strese",
      "register.title": "Registro",
      "register.user_placeholder": "Usuario",
      "register.email_placeholder": "Correo",
      "register.password_placeholder": "ContraseÃ±a",
      "register.confirm_placeholder": "Confirme ContraseÃ±a",
      "register.submit": "Registrarse",
      "register.has_account": "Â¿Ya tiene cuenta?",
      "register.login": "Inicie sesiÃ³n",
      "recovery.title": "Â¿OlvidÃ³ su contraseÃ±a?",
      "recovery.description": "Ingrese el correo electrÃ³nico asociado a su cuenta y le enviaremos un enlace para restablecer su contraseÃ±a.",
      "recovery.email_placeholder": "Correo",
      "recovery.submit": "Enviar",
      "reset.title": "Â¿OlvidÃ³ su contraseÃ±a?",
      "reset.description": "Por favor, ingrese su nueva contraseÃ±a.",
      "reset.password_placeholder": "ContraseÃ±a",
      "reset.confirm_placeholder": "Confirmar ContraseÃ±a",
      "reset.requirement_1": "Debe tener al menos 8 caracteres.",
      "reset.requirement_2": "Debe incluir una letra mayÃºscula (A-Z).",
      "reset.requirement_3": "Debe incluir una letra minÃºscula (a-z).",
      "reset.requirement_4": "Debe incluir un nÃºmero (0-9).",
      "reset.submit": "Enviar",
      "reset.back_login": "Volver al login",
      "feed.poly": "SecciÃ³n Artificial/Poly",
      "feed.creative": "SecciÃ³n Creativa",
      "feed.library": "Biblioteca",
      "feed.settings": "Configuraciones",
      "feed.start_question": "Â¿QuÃ© comenzaremos hoy?",
      "feed.user": "Usuario:",
      "feed.email": "Correo:",
      "feed.models": "Modelos:",
      "feed.logout": "Cerrar SesiÃ³n",
      "settings.title": "Configuraciones",
      "settings.user": "Usuario",
      "settings.plan": "Plan:",
      "settings.profile": "Perfil",
      "settings.user_name": "Nombre Usuario:",
      "settings.email": "Correo:",
      "settings.joined": "Fecha de uniÃ³n:",
      "settings.functions": "Funciones:",
      "settings.password": "ContraseÃ±a",
      "settings.change_password": "Cambiar ContraseÃ±a",
      "settings.delete_account": "Eliminar Cuenta",
      "settings.generals": "Generales",
      "settings.theme": "Tema:",
      "settings.notifications": "NotificaciÃ³n",
      "settings.language": "Idioma",
      "settings.instructions": "Instrucciones",
      "settings.ai_link": "AI (poly)",
      "settings.instructions_title": "Instrucciones",
      "settings.instructions_description": "Escribe aquÃ­ las reglas, tono o informaciÃ³n que \"Poly\" debe recordar siempre en todos los chats",
      "settings.instructions_placeholder": "RespÃ³ndeme siempre en espaÃ±ol.\nUsa un tono amigable y profesional.\nMi nombre de autor es \" \".\nNunca uses la palabra \"entonces\"",
      "settings.save": "Guardar",
      "settings.plans_title": "Planes de SuscripciÃ³n",
      "settings.plans_subtitle": "Elige el plan que mejor se adapte a tus necesidades",
      "settings.free_plan": "Plan Gratuito",
      "settings.premium_plan": "Plan Premium",
      "common.active": "Activo",
      "common.available": "Disponible",
      "common.coming_soon": "ðŸ’Ž PrÃ³ximamente",
      "library.title": "Biblioteca",
      "library.shelf_placeholder": "Nombre de la estanterÃ­a",
      "library.new": "Nuevo",
      "library.shelves": "EstanterÃ­as",
      "shelves.title": "EstanterÃ­as",
      "shelves.empty": "AÃºn no tienes estanterÃ­as",
      "shelves.open": "Abrir",
      "shelves.rename": "Renombrar",
      "shelves.delete": "Eliminar",
      "shelves.rename_prompt": "Nuevo nombre de la estanterÃ­a",
      "shelves.delete_confirm": "Â¿Eliminar esta estanterÃ­a?"
    },
    en: {
      "home.start": "Sign in",
      "home.register": "Register",
      "login.title": "Sign in",
      "login.email_placeholder": "Email",
      "login.password_placeholder": "Password",
      "login.forgot": "Forgot your password?",
      "login.here": "here",
      "login.submit": "Sign in",
      "login.no_account": "Don't have an account?",
      "login.register": "Register",
      "register.title": "Register",
      "register.user_placeholder": "Username",
      "register.email_placeholder": "Email",
      "register.password_placeholder": "Password",
      "register.confirm_placeholder": "Confirm Password",
      "register.submit": "Register",
      "register.has_account": "Already have an account?",
      "register.login": "Sign in",
      "recovery.title": "Forgot your password?",
      "recovery.description": "Enter the email associated with your account and we will send you a link to reset your password.",
      "recovery.email_placeholder": "Email",
      "recovery.submit": "Send",
      "reset.title": "Forgot your password?",
      "reset.description": "Please enter your new password.",
      "reset.password_placeholder": "Password",
      "reset.confirm_placeholder": "Confirm Password",
      "reset.requirement_1": "It must be at least 8 characters long.",
      "reset.requirement_2": "It must include one uppercase letter (A-Z).",
      "reset.requirement_3": "It must include one lowercase letter (a-z).",
      "reset.requirement_4": "It must include one number (0-9).",
      "reset.submit": "Send",
      "reset.back_login": "Back to login",
      "feed.poly": "Artificial Section/Poly",
      "feed.creative": "Creative Section",
      "feed.library": "Library",
      "feed.settings": "Settings",
      "feed.start_question": "What will we start today?",
      "feed.user": "User:",
      "feed.email": "Email:",
      "feed.models": "Models:",
      "feed.logout": "Log out",
      "settings.title": "Settings",
      "settings.user": "User",
      "settings.plan": "Plan:",
      "settings.profile": "Profile",
      "settings.user_name": "Username:",
      "settings.email": "Email:",
      "settings.joined": "Join date:",
      "settings.functions": "Functions:",
      "settings.password": "Password",
      "settings.change_password": "Change Password",
      "settings.delete_account": "Delete Account",
      "settings.generals": "General",
      "settings.theme": "Theme:",
      "settings.notifications": "Notifications",
      "settings.language": "Language",
      "settings.instructions": "Instructions",
      "settings.ai_link": "AI (poly)",
      "settings.instructions_title": "Instructions",
      "settings.instructions_description": "Write the rules, tone or information that \"Poly\" should always remember in every chat",
      "settings.instructions_placeholder": "Always answer me in English.\nUse a friendly and professional tone.\nMy author name is \" \".\nNever use the word \"then\"",
      "settings.save": "Save",
      "settings.plans_title": "Subscription Plans",
      "settings.plans_subtitle": "Choose the plan that best fits your needs",
      "settings.free_plan": "Free Plan",
      "settings.premium_plan": "Premium Plan",
      "common.active": "Active",
      "common.available": "Available",
      "common.coming_soon": "ðŸ’Ž Coming soon",
      "library.title": "Library",
      "library.shelf_placeholder": "Shelf name",
      "library.new": "New",
      "library.shelves": "Shelves",
      "shelves.title": "Shelves",
      "shelves.empty": "You don't have shelves yet",
      "shelves.open": "Open",
      "shelves.rename": "Rename",
      "shelves.delete": "Delete",
      "shelves.rename_prompt": "New shelf name",
      "shelves.delete_confirm": "Delete this shelf?"
    },
    de: {
      "home.start": "Anmelden",
      "home.register": "Registrieren",
      "login.title": "Anmelden",
      "login.email_placeholder": "E-Mail",
      "login.password_placeholder": "Passwort",
      "login.forgot": "Passwort vergessen?",
      "login.here": "hier",
      "login.submit": "Anmelden",
      "login.no_account": "Noch kein Konto?",
      "login.register": "Registrieren",
      "register.title": "Registrierung",
      "register.user_placeholder": "Benutzername",
      "register.email_placeholder": "E-Mail",
      "register.password_placeholder": "Passwort",
      "register.confirm_placeholder": "Passwort bestÃ¤tigen",
      "register.submit": "Registrieren",
      "register.has_account": "Hast du bereits ein Konto?",
      "register.login": "Anmelden",
      "recovery.title": "Passwort vergessen?",
      "recovery.description": "Gib die E-Mail deiner Kontos ein und wir senden dir einen Link zum ZurÃ¼cksetzen deines Passworts.",
      "recovery.email_placeholder": "E-Mail",
      "recovery.submit": "Senden",
      "reset.title": "Passwort vergessen?",
      "reset.description": "Bitte gib dein neues Passwort ein.",
      "reset.password_placeholder": "Passwort",
      "reset.confirm_placeholder": "Passwort bestÃ¤tigen",
      "reset.requirement_1": "Es muss mindestens 8 Zeichen lang sein.",
      "reset.requirement_2": "Es muss einen GroÃŸbuchstaben (A-Z) enthalten.",
      "reset.requirement_3": "Es muss einen Kleinbuchstaben (a-z) enthalten.",
      "reset.requirement_4": "Es muss eine Zahl (0-9) enthalten.",
      "reset.submit": "Senden",
      "reset.back_login": "ZurÃ¼ck zum Login",
      "feed.poly": "KÃ¼nstlicher Bereich/Poly",
      "feed.creative": "Kreativer Bereich",
      "feed.library": "Bibliothek",
      "feed.settings": "Einstellungen",
      "feed.start_question": "Womit beginnen wir heute?",
      "feed.user": "Benutzer:",
      "feed.email": "E-Mail:",
      "feed.models": "Modelle:",
      "feed.logout": "Abmelden",
      "settings.title": "Einstellungen",
      "settings.user": "Benutzer",
      "settings.plan": "Plan:",
      "settings.profile": "Profil",
      "settings.user_name": "Benutzername:",
      "settings.email": "E-Mail:",
      "settings.joined": "Beitrittsdatum:",
      "settings.functions": "Funktionen:",
      "settings.password": "Passwort",
      "settings.change_password": "Passwort Ã¤ndern",
      "settings.delete_account": "Konto lÃ¶schen",
      "settings.generals": "Allgemein",
      "settings.theme": "Thema:",
      "settings.notifications": "Benachrichtigung",
      "settings.language": "Sprache",
      "settings.instructions": "Anweisungen",
      "settings.ai_link": "KI (poly)",
      "settings.instructions_title": "Anweisungen",
      "settings.instructions_description": "Schreibe hier die Regeln, den Ton oder die Informationen, an die sich \"Poly\" in jedem Chat erinnern soll",
      "settings.instructions_placeholder": "Antworte mir immer auf Deutsch.\nVerwende einen freundlichen und professionellen Ton.\nMein Autorenname ist \" \".\nVerwende niemals das Wort \"dann\"",
      "settings.save": "Speichern",
      "settings.plans_title": "AbonnementplÃ¤ne",
      "settings.plans_subtitle": "WÃ¤hle den Plan, der am besten zu dir passt",
      "settings.free_plan": "Kostenloser Plan",
      "settings.premium_plan": "Premium-Plan",
      "common.active": "Aktiv",
      "common.available": "VerfÃ¼gbar",
      "common.coming_soon": "ðŸ’Ž Bald verfÃ¼gbar",
      "library.title": "Bibliothek",
      "library.shelf_placeholder": "Regalname",
      "library.new": "Neu",
      "library.shelves": "Regale",
      "shelves.title": "Regale",
      "shelves.empty": "Du hast noch keine Regale",
      "shelves.open": "Ã–ffnen",
      "shelves.rename": "Umbenennen",
      "shelves.delete": "LÃ¶schen",
      "shelves.rename_prompt": "Neuer Regalname",
      "shelves.delete_confirm": "Dieses Regal lÃ¶schen?"
    },
    fr: {
      "home.start": "Connexion",
      "home.register": "S'inscrire",
      "login.title": "Connexion",
      "login.email_placeholder": "E-mail",
      "login.password_placeholder": "Mot de passe",
      "login.forgot": "Mot de passe oubliÃ© ?",
      "login.here": "ici",
      "login.submit": "Connexion",
      "login.no_account": "Vous n'avez pas de compte ?",
      "login.register": "S'inscrire",
      "register.title": "Inscription",
      "register.user_placeholder": "Nom d'utilisateur",
      "register.email_placeholder": "E-mail",
      "register.password_placeholder": "Mot de passe",
      "register.confirm_placeholder": "Confirmer le mot de passe",
      "register.submit": "S'inscrire",
      "register.has_account": "Vous avez dÃ©jÃ  un compte ?",
      "register.login": "Se connecter",
      "recovery.title": "Mot de passe oubliÃ© ?",
      "recovery.description": "Entrez l'e-mail associÃ© Ã  votre compte et nous vous enverrons un lien pour rÃ©initialiser votre mot de passe.",
      "recovery.email_placeholder": "E-mail",
      "recovery.submit": "Envoyer",
      "reset.title": "Mot de passe oubliÃ© ?",
      "reset.description": "Veuillez saisir votre nouveau mot de passe.",
      "reset.password_placeholder": "Mot de passe",
      "reset.confirm_placeholder": "Confirmer le mot de passe",
      "reset.requirement_1": "Il doit contenir au moins 8 caractÃ¨res.",
      "reset.requirement_2": "Il doit inclure une lettre majuscule (A-Z).",
      "reset.requirement_3": "Il doit inclure une lettre minuscule (a-z).",
      "reset.requirement_4": "Il doit inclure un chiffre (0-9).",
      "reset.submit": "Envoyer",
      "reset.back_login": "Retour Ã  la connexion",
      "feed.poly": "Section Artificielle/Poly",
      "feed.creative": "Section CrÃ©ative",
      "feed.library": "BibliothÃ¨que",
      "feed.settings": "ParamÃ¨tres",
      "feed.start_question": "Par quoi commenÃ§ons-nous aujourd'hui ?",
      "feed.user": "Utilisateur :",
      "feed.email": "E-mail :",
      "feed.models": "ModÃ¨les :",
      "feed.logout": "DÃ©connexion",
      "settings.title": "ParamÃ¨tres",
      "settings.user": "Utilisateur",
      "settings.plan": "Plan :",
      "settings.profile": "Profil",
      "settings.user_name": "Nom d'utilisateur :",
      "settings.email": "E-mail :",
      "settings.joined": "Date d'inscription :",
      "settings.functions": "Fonctions :",
      "settings.password": "Mot de passe",
      "settings.change_password": "Changer le mot de passe",
      "settings.delete_account": "Supprimer le compte",
      "settings.generals": "GÃ©nÃ©ral",
      "settings.theme": "ThÃ¨me :",
      "settings.notifications": "Notifications",
      "settings.language": "Langue",
      "settings.instructions": "Instructions",
      "settings.ai_link": "IA (poly)",
      "settings.instructions_title": "Instructions",
      "settings.instructions_description": "Ã‰crivez ici les rÃ¨gles, le ton ou les informations que \"Poly\" doit toujours retenir dans tous les chats",
      "settings.instructions_placeholder": "RÃ©ponds-moi toujours en franÃ§ais.\nUtilise un ton amical et professionnel.\nMon nom d'auteur est \" \".\nN'utilise jamais le mot \"alors\"",
      "settings.save": "Enregistrer",
      "settings.plans_title": "Plans d'abonnement",
      "settings.plans_subtitle": "Choisissez le plan qui correspond le mieux Ã  vos besoins",
      "settings.free_plan": "Plan Gratuit",
      "settings.premium_plan": "Plan Premium",
      "common.active": "Actif",
      "common.available": "Disponible",
      "common.coming_soon": "ðŸ’Ž BientÃ´t disponible",
      "library.title": "BibliothÃ¨que",
      "library.shelf_placeholder": "Nom de l'Ã©tagÃ¨re",
      "library.new": "Nouveau",
      "library.shelves": "Ã‰tagÃ¨res",
      "shelves.title": "Ã‰tagÃ¨res",
      "shelves.empty": "Vous n'avez pas encore d'Ã©tagÃ¨res",
      "shelves.open": "Ouvrir",
      "shelves.rename": "Renommer",
      "shelves.delete": "Supprimer",
      "shelves.rename_prompt": "Nouveau nom de l'Ã©tagÃ¨re",
      "shelves.delete_confirm": "Supprimer cette Ã©tagÃ¨re ?"
    },
    ja: {
      "home.start": "ãƒ­ã‚°ã‚¤ãƒ³",
      "home.register": "ç™»éŒ²",
      "login.title": "ãƒ­ã‚°ã‚¤ãƒ³",
      "login.email_placeholder": "ãƒ¡ãƒ¼ãƒ«",
      "login.password_placeholder": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
      "login.forgot": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãŠå¿˜ã‚Œã§ã™ã‹ï¼Ÿ",
      "login.here": "ã“ã¡ã‚‰",
      "login.submit": "ãƒ­ã‚°ã‚¤ãƒ³",
      "login.no_account": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ",
      "login.register": "ç™»éŒ²ã™ã‚‹",
      "register.title": "ç™»éŒ²",
      "register.user_placeholder": "ãƒ¦ãƒ¼ã‚¶ãƒ¼å",
      "register.email_placeholder": "ãƒ¡ãƒ¼ãƒ«",
      "register.password_placeholder": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
      "register.confirm_placeholder": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª",
      "register.submit": "ç™»éŒ²ã™ã‚‹",
      "register.has_account": "ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã™ã‹ï¼Ÿ",
      "register.login": "ãƒ­ã‚°ã‚¤ãƒ³",
      "recovery.title": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãŠå¿˜ã‚Œã§ã™ã‹ï¼Ÿ",
      "recovery.description": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å†è¨­å®šç”¨ã®ãƒªãƒ³ã‚¯ã‚’é€ä¿¡ã—ã¾ã™ã€‚",
      "recovery.email_placeholder": "ãƒ¡ãƒ¼ãƒ«",
      "recovery.submit": "é€ä¿¡",
      "reset.title": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãŠå¿˜ã‚Œã§ã™ã‹ï¼Ÿ",
      "reset.description": "æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚",
      "reset.password_placeholder": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
      "reset.confirm_placeholder": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª",
      "reset.requirement_1": "8æ–‡å­—ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚",
      "reset.requirement_2": "å¤§æ–‡å­— (A-Z) ã‚’1æ–‡å­—å«ã‚ã¦ãã ã•ã„ã€‚",
      "reset.requirement_3": "å°æ–‡å­— (a-z) ã‚’1æ–‡å­—å«ã‚ã¦ãã ã•ã„ã€‚",
      "reset.requirement_4": "æ•°å­— (0-9) ã‚’1æ–‡å­—å«ã‚ã¦ãã ã•ã„ã€‚",
      "reset.submit": "é€ä¿¡",
      "reset.back_login": "ãƒ­ã‚°ã‚¤ãƒ³ã«æˆ»ã‚‹",
      "feed.poly": "AI ã‚»ã‚¯ã‚·ãƒ§ãƒ³/Poly",
      "feed.creative": "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³",
      "feed.library": "ãƒ©ã‚¤ãƒ–ãƒ©ãƒª",
      "feed.settings": "è¨­å®š",
      "feed.start_question": "ä»Šæ—¥ã¯ä½•ã‹ã‚‰å§‹ã‚ã¾ã™ã‹ï¼Ÿ",
      "feed.user": "ãƒ¦ãƒ¼ã‚¶ãƒ¼:",
      "feed.email": "ãƒ¡ãƒ¼ãƒ«:",
      "feed.models": "ãƒ¢ãƒ‡ãƒ«:",
      "feed.logout": "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ",
      "settings.title": "è¨­å®š",
      "settings.user": "ãƒ¦ãƒ¼ã‚¶ãƒ¼",
      "settings.plan": "ãƒ—ãƒ©ãƒ³:",
      "settings.profile": "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«",
      "settings.user_name": "ãƒ¦ãƒ¼ã‚¶ãƒ¼å:",
      "settings.email": "ãƒ¡ãƒ¼ãƒ«:",
      "settings.joined": "ç™»éŒ²æ—¥:",
      "settings.functions": "æ©Ÿèƒ½:",
      "settings.password": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
      "settings.change_password": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´",
      "settings.delete_account": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤",
      "settings.generals": "ä¸€èˆ¬",
      "settings.theme": "ãƒ†ãƒ¼ãƒž:",
      "settings.notifications": "é€šçŸ¥",
      "settings.language": "è¨€èªž",
      "settings.instructions": "æŒ‡ç¤º",
      "settings.ai_link": "AI (poly)",
      "settings.instructions_title": "æŒ‡ç¤º",
      "settings.instructions_description": "\"Poly\" ãŒã™ã¹ã¦ã®ãƒãƒ£ãƒƒãƒˆã§å¸¸ã«è¦šãˆã¦ãŠãã¹ããƒ«ãƒ¼ãƒ«ã€å£èª¿ã€æƒ…å ±ã‚’ã“ã“ã«æ›¸ã„ã¦ãã ã•ã„",
      "settings.instructions_placeholder": "å¸¸ã«æ—¥æœ¬èªžã§ç­”ãˆã¦ãã ã•ã„ã€‚\nè¦ªã—ã¿ã‚„ã™ãä¸å¯§ãªå£èª¿ã‚’ä½¿ã£ã¦ãã ã•ã„ã€‚\nç§ã®è‘—è€…åã¯ \" \" ã§ã™ã€‚\nã€Œãã‚Œã§ã¯ã€ã¨ã„ã†è¨€è‘‰ã¯ä½¿ã‚ãªã„ã§ãã ã•ã„",
      "settings.save": "ä¿å­˜",
      "settings.plans_title": "ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³",
      "settings.plans_subtitle": "ã‚ãªãŸã«æœ€é©ãªãƒ—ãƒ©ãƒ³ã‚’é¸ã‚“ã§ãã ã•ã„",
      "settings.free_plan": "ç„¡æ–™ãƒ—ãƒ©ãƒ³",
      "settings.premium_plan": "ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³",
      "common.active": "æœ‰åŠ¹",
      "common.available": "åˆ©ç”¨å¯èƒ½",
      "common.coming_soon": "ðŸ’Ž è¿‘æ—¥å…¬é–‹",
      "library.title": "ãƒ©ã‚¤ãƒ–ãƒ©ãƒª",
      "library.shelf_placeholder": "æ£šã®åå‰",
      "library.new": "æ–°è¦",
      "library.shelves": "æœ¬æ£š",
      "shelves.title": "æœ¬æ£š",
      "shelves.empty": "ã¾ã æœ¬æ£šãŒã‚ã‚Šã¾ã›ã‚“",
      "shelves.open": "é–‹ã",
      "shelves.rename": "åå‰å¤‰æ›´",
      "shelves.delete": "å‰Šé™¤",
      "shelves.rename_prompt": "æ–°ã—ã„æœ¬æ£šã®åå‰",
      "shelves.delete_confirm": "ã“ã®æœ¬æ£šã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ"
    }
  };

  const getCurrentLanguage = () => localStorage.getItem(STORAGE_KEY) || "es";

  const translate = (key, language = getCurrentLanguage()) => {
    const selected = translations[language] || translations.es;
    return selected[key] || translations.es[key] || key;
  };

  const applyTranslations = (root = document) => {
    const language = getCurrentLanguage();
    document.documentElement.lang = language;

    root.querySelectorAll("[data-i18n]").forEach((element) => {
      element.textContent = translate(element.dataset.i18n, language);
    });

    root.querySelectorAll("[data-i18n-placeholder]").forEach((element) => {
      element.placeholder = translate(element.dataset.i18nPlaceholder, language);
    });
  };

  const setLanguage = (language) => {
    const normalized = translations[language] ? language : "es";
    localStorage.setItem(STORAGE_KEY, normalized);
    applyTranslations();
    window.dispatchEvent(
      new CustomEvent("languagechange", {
        detail: { language: normalized },
      }),
    );
  };

  window.languageManager = {
    getCurrentLanguage,
    translate,
    applyTranslations,
    setLanguage,
  };

  document.addEventListener("DOMContentLoaded", () => {
    applyTranslations();
  });
})();
